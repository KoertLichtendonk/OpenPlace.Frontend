import"../chunks/B2cHk4HI.js";import{o as Oe}from"../chunks/4WsUhDWi.js";import{at as je,p as Be,av as Le,y as be,g as s,au as B,aw as y,f as m,d as t,s as i,t as u,b as n,c as ze,$ as Me,r as e,ay as L,a as z}from"../chunks/BDALf20I.js";import{s as l}from"../chunks/4k6DpCgf.js";import{i as k}from"../chunks/Bke_korE.js";import{e as ne,i as de}from"../chunks/CZW2bcQi.js";import{h as Ge}from"../chunks/BUhRjcOt.js";import{r as He}from"../chunks/BNZUboE0.js";import{a as Ne}from"../chunks/DS58drb5.js";import{g as We}from"../chunks/B4HM4TqG.js";import{a as ue}from"../chunks/DffDvEhl.js";import{R as Ye}from"../chunks/rLj4C5Bn.js";import{g as ge}from"../chunks/DklPLC_x.js";import{o as qe}from"../chunks/GVP1MJz5.js";import{c as Ce}from"../chunks/hLPYzGnf.js";import{l as me}from"../chunks/BMfwGdZU.js";import{n as xe}from"../chunks/DFzO1c4b.js";import{e as Fe}from"../chunks/ChoU6b3z.js";(function(){try{var p=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};p.SENTRY_RELEASE={id:"35111e7039e8c68cc677344b7f7c6971567f6820"}}catch{}})();try{(function(){var p=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},f=new p.Error().stack;f&&(p._sentryDebugIds=p._sentryDebugIds||{},p._sentryDebugIds[f]="80a014d2-358c-4d0f-a3b5-f111523645d8",p._sentryDebugIdIdentifier="sentry-dbid-80a014d2-358c-4d0f-a3b5-f111523645d8")})()}catch{}const Je=()=>"Select all",Ke=()=>"Selecionar tudo",Pe=(p={},f={})=>(f.locale??ge())==="en"?Je():Ke(),Qe=()=>"Open reports",Ue=()=>"Reports abertos",Ve=(p={},f={})=>(f.locale??ge())==="en"?Qe():Ue();var Xe=(p,f)=>f(!0),Ze=(p,f)=>f(!1),$e=m('<label class="flex items-center gap-2"><input type="checkbox" class="checkbox checkbox-sm"/> <span class="text-sm"> </span></label>'),et=m('<div class="text-base-content/80 flex items-center gap-2"><span class="loading loading-spinner loading-sm"></span> <span> </span></div>'),tt=m('<p class="text-error"> </p>'),at=m('<div class="bg-base-200 border-base-200 rounded-xl border p-3"><div class="text-base-content/70 text-xs"> </div> <div class="text-lg font-bold leading-none"> </div></div>'),rt=m('<div class="flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between"><div class="bg-base-200 flex items-baseline gap-3 rounded-lg px-4 py-2"><div><div class="text-base-content/70 text-sm">Total</div> <div class="text-4xl font-extrabold leading-none"> </div></div> <div class="text-base-content/60 text-xs"> </div></div> <div class="grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-6"></div></div>'),st=m('<p class="text-base-content/80"> </p>'),ot=m('<div class="text-base-content/80 flex items-center gap-2"><span class="loading loading-spinner loading-sm"></span> <span> </span></div>'),lt=m('<p class="text-error"> </p>'),it=m('<div class="bg-base-200 border-base-200 rounded-xl border p-3"><div class="text-base-content/70 text-xs"> </div> <div class="text-lg font-bold leading-none"> </div></div>'),nt=m('<div class="flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between"><div class="bg-base-200 flex items-baseline gap-3 rounded-lg px-4 py-2"><div><div class="text-base-content/70 text-sm">Total</div> <div class="text-4xl font-extrabold leading-none"> </div></div> <div class="text-base-content/60 text-xs"> </div></div> <div class="grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-6"></div></div>'),dt=m('<p class="text-base-content/80"> </p>'),vt=m('<section class="rounded-box bg-base-100 border-base-300 border p-4 shadow"><div class="mb-3 flex items-center justify-between"><h2 class="text-xl font-semibold"> </h2> <div class="flex items-center gap-2"><button class="btn btn-sm" title="Selecionar tudo"> </button> <button class="btn btn-sm" title="Limpar seleção"> </button> <button class="btn btn-circle btn-sm" title="Atualizar"><!></button></div></div> <div class="mb-4 flex flex-wrap gap-3"></div> <div class="rounded-box bg-base-100 border-base-300 border p-4"><!></div> <div class="rounded-box bg-base-100 border-base-300 mt-4 border p-4"><div class="mb-2"><h3 class="text-lg font-semibold"> </h3></div> <!></div></section>');function Et(p,f){Be(f,!0);let w=B(!0),A=B(null),O=B(null),M=B(null);const j=[{key:"doxxing",label:"Doxxing"},{key:"inappropriate_content",label:"Inappropriate"},{key:"hate_speech",label:"Hate Speech"},{key:"bot",label:"Bot"},{key:"other",label:"Other"},{key:"griefing",label:"Griefing"}];let T=Le({doxxing:!0,inappropriate_content:!0,hate_speech:!0,bot:!0,other:!0,griefing:!0}),J=B(0),K=B(0);be(()=>{const a=s(O);if(!a){y(J,0);return}let r=0;for(const o of j)T[o.key]&&(r+=a[o.key]);y(J,r,!0)}),be(()=>{const a=s(M);if(!a){y(K,0);return}let r=0;for(const o of j)T[o.key]&&(r+=a[o.key]);y(K,r,!0)});async function ve(){try{y(w,!0),y(A,null),y(O,await ue.getOpenTicketsSummary(),!0),y(M,await ue.getOpenReportsSummary(),!0)}catch(a){a.status===403||a.status===401?We("/404"):y(A,(a==null?void 0:a.message)??Fe(),!0),y(O,null)}finally{y(w,!1)}}Oe(ve);function ce(a){for(const r of j)T[r.key]=a}var P=vt();Ge(a=>{Me.title="Wplace - Admin Dashboard"});var Q=t(P),U=t(Q),ye=t(U,!0);e(U);var pe=i(U,2),q=t(pe);q.__click=[Xe,ce];var he=t(q,!0);e(q);var C=i(q,2);C.__click=[Ze,ce];var ke=t(C,!0);e(C);var F=i(C,2);F.__click=ve;var we=t(F);Ye(we,{class:"size-4"}),e(F),e(pe),e(Q);var V=i(Q,2);ne(V,21,()=>j,de,(a,r)=>{var o=$e(),_=t(o);He(_);var h=i(_,2),d=t(h,!0);e(h),e(o),u(()=>l(d,s(r).label)),Ne(_,()=>T[s(r).key],v=>T[s(r).key]=v),n(a,o)}),e(V);var X=i(V,2),Te=t(X);{var Se=a=>{var r=et(),o=i(t(r),2),_=t(o,!0);e(o),e(r),u(h=>l(_,h),[()=>me()]),n(a,r)},De=a=>{var r=L(),o=z(r);{var _=d=>{var v=tt(),S=t(v,!0);e(v),u(()=>l(S,s(A))),n(d,v)},h=d=>{var v=L(),S=z(v);{var $=b=>{var c=rt(),x=t(c),g=t(x),G=i(t(g),2),te=t(G,!0);e(G),e(g);var H=i(g,2),ae=t(H);e(H),e(x);var N=i(x,2);ne(N,21,()=>j,de,(re,D)=>{var W=L(),se=z(W);{var oe=I=>{var R=at(),E=t(R),le=t(E,!0);e(E);var Y=i(E,2),ie=t(Y,!0);e(Y),e(R),u(()=>{l(le,s(D).label),l(ie,s(O)[s(D).key])}),n(I,R)};k(se,I=>{T[s(D).key]&&I(oe)})}n(re,W)}),e(N),e(c),u(()=>{l(te,s(J)),l(ae,`Base: ${s(O).total_open_tickets??""}`)}),n(b,c)},ee=b=>{var c=st(),x=t(c,!0);e(c),u(g=>l(x,g),[()=>xe()]),n(b,c)};k(S,b=>{s(O)?b($):b(ee,!1)},!0)}n(d,v)};k(o,d=>{s(A)?d(_):d(h,!1)},!0)}n(a,r)};k(Te,a=>{s(w)?a(Se):a(De,!1)})}e(X);var fe=i(X,2),Z=t(fe),_e=t(Z),Ie=t(_e,!0);e(_e),e(Z);var Re=i(Z,2);{var Ee=a=>{var r=ot(),o=i(t(r),2),_=t(o,!0);e(o),e(r),u(h=>l(_,h),[()=>me()]),n(a,r)},Ae=a=>{var r=L(),o=z(r);{var _=d=>{var v=lt(),S=t(v,!0);e(v),u(()=>l(S,s(A))),n(d,v)},h=d=>{var v=L(),S=z(v);{var $=b=>{var c=nt(),x=t(c),g=t(x),G=i(t(g),2),te=t(G,!0);e(G),e(g);var H=i(g,2),ae=t(H);e(H),e(x);var N=i(x,2);ne(N,21,()=>j,de,(re,D)=>{var W=L(),se=z(W);{var oe=I=>{var R=it(),E=t(R),le=t(E,!0);e(E);var Y=i(E,2),ie=t(Y,!0);e(Y),e(R),u(()=>{l(le,s(D).label),l(ie,s(M)[s(D).key])}),n(I,R)};k(se,I=>{T[s(D).key]&&I(oe)})}n(re,W)}),e(N),e(c),u(()=>{l(te,s(K)),l(ae,`Base: ${s(M).total_open_reports??""}`)}),n(b,c)},ee=b=>{var c=dt(),x=t(c,!0);e(c),u(g=>l(x,g),[()=>xe()]),n(b,c)};k(S,b=>{s(M)?b($):b(ee,!1)},!0)}n(d,v)};k(o,d=>{s(A)?d(_):d(h,!1)},!0)}n(a,r)};k(Re,a=>{s(w)?a(Ee):a(Ae,!1)})}e(fe),e(P),u((a,r,o,_)=>{l(ye,a),l(he,r),l(ke,o),F.disabled=s(w),l(Ie,_)},[()=>qe(),()=>Pe(),()=>Ce(),()=>Ve()]),n(p,P),ze()}je(["click"]);export{Et as component};
